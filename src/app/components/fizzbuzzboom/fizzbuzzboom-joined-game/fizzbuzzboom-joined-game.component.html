<span class="answer">{{answer}}</span>
<span class="alert">{{errorMsg}}</span>
<span class="info">{{infoMsg}}</span>

<div class="row">
  <div class="col-6">&nbsp;</div>
  <div class="col-4 text-end">
    <span class="participant">User: {{myNickname}}</span>
  </div>
</div>
<div *ngIf="!isLoading" class="container-fluid page">

  <div class="row top-buffer text-right">
    <div class="col-6 text-center">
      <h1>Starting Game</h1>
    </div>
    <div class="col-6">
      <h3>SessionId: &nbsp;
        <input class="form-control-lg" type="text" [ngModel]="sessionId" readonly disabled/></h3>
    </div>
  </div>

  <div class="row top-buffer text-right">
    <div class="col-6 text-center">
      <h5 class="text-muted">Testing with Multiples of <b>{{session.fizzMultiple}}</b> (Fizz) and <b>{{session.buzzMultiple}}</b> (Buzz)</h5>
    </div>
  </div>

  <div *ngIf="session.isRandomQuestion" class="row top-buffer">
    <div class="col-6 text-center">
      <h6 class="text-muted">Using random numbers between 1 and {{session.maxRandomValue}}</h6>
    </div>
  </div>

  <div class="row top-buffer-x2">
    <div class="col-8">
      <div class="card">
        <div class="card-header">
          <div class="row">
            <div class="col-9">
              <span *ngIf="!targetUser" class="user-label">Ready to start...</span>
              <span *ngIf="targetUser && !isTargetUser" class="user">{{targetUser}}</span>
              <span *ngIf="targetUser && isTargetUser" class="targetuser">{{targetUser}}</span>
            </div>
          </div>

        </div>
        <div class="card-body">
          <div class="row">
            <div class="col-8 text-center">
              <span *ngIf="questionValue==0" class="test-value">-</span>
              <span *ngIf="questionValue > 0" class="test-value">{{questionValue}}</span>
            </div>

            <div *ngIf="isTargetUser && !hasAnswered" class="col-4 d-grid gap-1">
              <button class="btn-lg btn-outline-primary" (click)="onFizzClick()">Fizz</button>
              <button class="btn-lg btn-outline-secondary" (click)="onBuzzClick()">Buzz</button>
              <button class="btn-lg btn-outline-danger" (click)="onFizzBuzzClick()">Fizz Buzz</button>
              <button class="btn-lg btn-outline-success" (click)="onPassClick()">Pass</button>
            </div>

            <div *ngIf="!isTargetUser || hasAnswered" class="col-4 d-grid gap-1">
              <button class="btn-lg btn-outline-secondary" disabled>Fizz</button>
              <button class="btn-lg btn-outline-secondary" disabled>Buzz</button>
              <button class="btn-lg btn-outline-secondary" disabled>Fizz Buzz</button>
              <button class="btn-lg btn-outline-secondary" disabled>Pass</button>
            </div>

          </div>
          <div class="row top-buffer-x2 float-end">
            <div class="col-12 float-end">
              <countdown #cd
                         [config]="config"
                         (event)="onCountdownEvent($event)"
              ></countdown>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-4">
      <strong>Joined Users:</strong>
      <p-table #dt1 dataKey="nickname"
               [rows]="10"
               styleClass="p-datatable-striped"
               [scrollable]="true"
               scrollHeight="400px"
               [value]="users">
        <ng-template pTemplate="body" let-rec>
          <tr [pEditableRow]="rec">
            <td>{{ rec.nickname }}</td>
          </tr>
        </ng-template>
        <ng-template pTemplate="emptymessage">
          <tr>
            <td colspan="1">Waiting for users...</td>
          </tr>
        </ng-template>
      </p-table>

    </div>
  </div>



</div>



<p-progressSpinner *ngIf="isLoading" class="tbs-center"></p-progressSpinner>
<p-toast position="top-left" class="custom-toast"></p-toast>
<p-confirmDialog header="Warning" icon="pi pi-exclamation-triangle"></p-confirmDialog>
